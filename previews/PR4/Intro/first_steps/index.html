<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>First Steps · SeisBase.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">SeisBase.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Intro</span><ul><li><a class="tocitem" href="../intro/">Introduction</a></li><li class="is-active"><a class="tocitem" href>First Steps</a><ul class="internal"><li><a class="tocitem" href="#Start-Here"><span>Start Here</span></a></li><li><a class="tocitem" href="#Operations-on-SeisData-structures"><span>Operations on SeisData structures</span></a></li><li><a class="tocitem" href="#Next-Steps"><span>Next Steps</span></a></li></ul></li><li><a class="tocitem" href="../working_with_data/">Working with data</a></li><li><a class="tocitem" href="../getting_help/">Getting Help</a></li></ul></li><li><span class="tocitem">Reading files</span><ul><li><a class="tocitem" href="../../ReadingFiles/timeseries/">Time-Series Files</a></li><li><a class="tocitem" href="../../ReadingFiles/metadata/">Metadata Files</a></li><li><a class="tocitem" href="../../ReadingFiles/hdf5/">HDF5 Files</a></li><li><a class="tocitem" href="../../ReadingFiles/xml/">XML Meta-Data</a></li></ul></li><li><span class="tocitem">Downloading</span><ul><li><a class="tocitem" href="../../Downloading/web_services/">Web Services</a></li><li><a class="tocitem" href="../../Downloading/seedlink/">SeedLink</a></li></ul></li><li><span class="tocitem">Writing files</span><ul><li><a class="tocitem" href="../../WritingFiles/writing/">Write Support</a></li></ul></li><li><span class="tocitem">Processing</span><ul><li><a class="tocitem" href="../../Processing/data_processing/">Data Processing</a></li></ul></li><li><span class="tocitem">Submodules</span><ul><li><a class="tocitem" href="../../Submodules/submodules/">Submodules</a></li><li><a class="tocitem" href="../../Submodules/nodal/">Nodal</a></li><li><a class="tocitem" href="../../Submodules/quake/">Quake</a></li><li><a class="tocitem" href="../../Submodules/seishdf/">SeisHDF</a></li></ul></li><li><span class="tocitem">Appendices</span><ul><li><a class="tocitem" href="../../Appendices/appendix/">Appendices</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Intro</a></li><li class="is-active"><a href>First Steps</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>First Steps</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaSeismo/SeisBase.jl/blob/main/docs/src/Intro/first_steps.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="First-Steps"><a class="docs-heading-anchor" href="#First-Steps">First Steps</a><a id="First-Steps-1"></a><a class="docs-heading-anchor-permalink" href="#First-Steps" title="Permalink"></a></h1><p>SeisBase is designed around easy, fluid, and fast data access. At the most basic level, SeisBase uses an array-like structure called a <strong>SeisChannel</strong> for single-channel data, and a multichannel structure named <strong>SeisData</strong>.</p><h2 id="Start-Here"><a class="docs-heading-anchor" href="#Start-Here">Start Here</a><a id="Start-Here-1"></a><a class="docs-heading-anchor-permalink" href="#Start-Here" title="Permalink"></a></h2><p>Create a new, empty <strong>SeisChannel</strong> object with</p><pre><code class="language-julia hljs">Ch = SeisChannel()</code></pre><p>The meanings of the field names are explained <a href="../../Appendices/appendix/#seisbase_std_keyword">here</a>; you can also type <span>$?SeisChannel$</span> at the Julia prompt. You can edit field values manually, e.g., returning to the code block above,</p><pre><code class="language-julia hljs">Ch = SeisChannel()
Ch.loc = GeoLoc(lat=-90.0, lon=0.0, el=2835.0, az=0.0, inc=0.0)
Ch.name = &quot;South pole&quot;</code></pre><p>or you can set them with keywords at creation:</p><pre><code class="language-julia hljs">Ch = SeisChannel(name=&quot;Templo de San José de La Floresta, Ajijic&quot;, fs=40.0)</code></pre><p>Note that Strings in field names support full Unicode, so even graffiti can be saved and read back in. This is useful for data containing non-English characters.</p><p>SeisData structures are collections of channel data. They can be created with the SeisData() command, which can optionally create any number of empty channels at a time, e.g.,</p><pre><code class="language-julia hljs">S = SeisData()      # empty structure, no channels
S1 = SeisData(12)   # empty 12-channel structure</code></pre><p>They can be explored similarly:</p><pre><code class="language-julia hljs">S = SeisData(1)
S.name[1] = &quot;South pole&quot;
S.loc[1] = GeoLoc(lat=-90.0, lon=0.0, el=2835.0, az=0.0, inc=0.0)</code></pre><p>A collection of channels becomes a SeisData structure; for example,</p><pre><code class="language-julia hljs">L = GeoLoc(lat=46.1967, lon=-122.1875, el=1440.0, az=0.0, inc=0.0)
S = SeisData(SeisChannel(), SeisChannel())
S = SeisData(randSeisData(5), SeisChannel(),
      SeisChannel(id=&quot;UW.SEP..EHZ&quot;, name=&quot;Darth Exploded&quot;, loc=L))</code></pre><p>You can push channels onto existing SeisData structures, like adding one key to a dictionary. For example,</p><pre><code class="language-julia hljs">push!(S, Ch)</code></pre><p>copies Ch to a new channel in S. Note that the new S[3] is not a view into Ch. This is deliberate, as otherwise the workspace quickly becomes a mess of redundant channels. Clean up with <span>$Ch = []$</span> to free memory before moving on.</p><h2 id="Operations-on-SeisData-structures"><a class="docs-heading-anchor" href="#Operations-on-SeisData-structures">Operations on SeisData structures</a><a id="Operations-on-SeisData-structures-1"></a><a class="docs-heading-anchor-permalink" href="#Operations-on-SeisData-structures" title="Permalink"></a></h2><p>We&#39;re now ready for a short tutorial of what we can do with data structures. In the commands below, as in most of this documentation, <strong>Ch</strong> is a SeisChannel object and <strong>S</strong> is a SeisData object.</p><h3 id="Adding-channels-to-a-SeisData-structure"><a class="docs-heading-anchor" href="#Adding-channels-to-a-SeisData-structure">Adding channels to a SeisData structure</a><a id="Adding-channels-to-a-SeisData-structure-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-channels-to-a-SeisData-structure" title="Permalink"></a></h3><p>You&#39;ve already seen one way to add a channel to SeisData: push!(S, SeisChannel()) adds an empty channel. Here are others:</p><pre><code class="language-julia hljs">S = randSeisData(4)
n = 3
append!(S, SeisData(n))</code></pre><p>This initializes an empty n-channel SeisData structure and appends it to the end of S, similar to appending one array to another. S will have 7 channels, but the last three are empty.</p><p>The addition operator, <code>+</code>, calls <em>push!</em> and <em>add!</em>, with one key difference: to ensure reflexivity (i.e., <code>S1 + S2 == S2 + S1</code>), the <code>+</code> operator sorts the output (command <em>sort!</em>) and prunes empty channels (command <em>prune!</em>). Thus,</p><pre><code class="language-julia hljs">S = SeisData(2)
S1 = randSeisData(3)
S += S1</code></pre><p>outputs only the three channels of random data initialized in the second line of the code block; in addition, they&#39;re sorted by ID, so it&#39;s likely that S != S1.</p><h3 id="Search,-Sort,-and-Prune"><a class="docs-heading-anchor" href="#Search,-Sort,-and-Prune">Search, Sort, and Prune</a><a id="Search,-Sort,-and-Prune-1"></a><a class="docs-heading-anchor-permalink" href="#Search,-Sort,-and-Prune" title="Permalink"></a></h3><p>The easiest way to find channels of interest in a data structure is to use <em>findid</em> or <em>findchan</em>. <span>$findid(id, S)$</span> returns the numeric index <em>i</em> of the first channel in <em>S</em> where <span>$S.id[i] == id$</span>. <span>$findchan(cha, S)$</span> returns an array of numeric indices in <em>S</em> to all channels whose IDs satisfy <span>$occursin(cha, S.id[i])$</span>.</p><p>For example:</p><pre><code class="language-julia hljs">L = GeoLoc(lat=46.1967, lon=-122.1875, el=1440.0, az=0.0, inc=0.0)
S = SeisData(randSeisData(5), SeisChannel(id=&quot;YY.STA1..EHZ&quot;),
      SeisChannel(id=&quot;UW.SEP..EHZ&quot;, name=&quot;Darth Exploded&quot;, loc=L))
findid(&quot;UW.SEP..EHZ&quot;, S)    # 7
findchan(&quot;EHZ&quot;, S)          # [6, 7], maybe others (depending on randSeisData)</code></pre><p>You can sort channels in a structure by channel ID with the <code>sort!</code> command.</p><p>Several functions exist to prune empty and unwanted channels from SeisData structures. Revisiting the previous code block, for example, try these:</p><pre><code class="language-julia hljs">deleteat!(S, 1:2)   # Delete first two channels of S
S -= 3              # Delete third channel of S

# Extract S[1] as a SeisChannel, removing it from S
C = pull(S, 1)

# Delete channels containing &quot;.SEP.&quot;
delete!(S, &quot;.SEP.&quot;, exact=false)

# Delete all channels whose S.x is empty
prune!(S)
S</code></pre><p>S should have one channel left.</p><p>In the <em>delete!</em> command, specifying <code>exact=false</code> means that any channel whose ID partly matches the string &quot;.SEP.&quot; gets deleted; by default, <span>$delete!(S, str)$</span> only matches channels where <em>str</em> is the exact ID. This is an efficient way to remove unresponsive subnets and unwanted channel types, but beware of accidental over-matching.</p><h2 id="Next-Steps"><a class="docs-heading-anchor" href="#Next-Steps">Next Steps</a><a id="Next-Steps-1"></a><a class="docs-heading-anchor-permalink" href="#Next-Steps" title="Permalink"></a></h2><p>Because tracking arbitrary operations can be difficult, several functions have been written to keep track of data and operations in a semi-automated way. See the next section, <a href="../working_with_data/#working_with_data">working with data</a>, for detailed discussion of managing data from the Julia command prompt.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../intro/">« Introduction</a><a class="docs-footer-nextpage" href="../working_with_data/">Working with data »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Thursday 12 January 2023 01:25">Thursday 12 January 2023</span>. Using Julia version 1.8.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
