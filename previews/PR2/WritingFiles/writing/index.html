<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Write Support · SeisBase.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">SeisBase.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Intro</span><ul><li><a class="tocitem" href="../../Intro/intro/">Introduction</a></li><li><a class="tocitem" href="../../Intro/first_steps/">First Steps</a></li><li><a class="tocitem" href="../../Intro/working_with_data/">Working with data</a></li><li><a class="tocitem" href="../../Intro/getting_help/">Getting Help</a></li></ul></li><li><span class="tocitem">Reading files</span><ul><li><a class="tocitem" href="../../ReadingFiles/timeseries/">Time-Series Files</a></li><li><a class="tocitem" href="../../ReadingFiles/metadata/">Metadata Files</a></li><li><a class="tocitem" href="../../ReadingFiles/hdf5/">HDF5 Files</a></li><li><a class="tocitem" href="../../ReadingFiles/xml/">XML Meta-Data</a></li></ul></li><li><span class="tocitem">Downloading</span><ul><li><a class="tocitem" href="../../Downloading/web_services/">Web Services</a></li><li><a class="tocitem" href="../../Downloading/seedlink/">SeedLink</a></li></ul></li><li><span class="tocitem">Writing files</span><ul><li class="is-active"><a class="tocitem" href>Write Support</a><ul class="internal"><li><a class="tocitem" href="#Write-Functions"><span>Write Functions</span></a></li><li><a class="tocitem" href="#QuakeML"><span>QuakeML</span></a></li><li><a class="tocitem" href="#SAC"><span>SAC</span></a></li><li><a class="tocitem" href="#SeisBase-Native"><span>SeisBase Native</span></a></li><li><a class="tocitem" href="#Station-XML"><span>Station XML</span></a></li></ul></li></ul></li><li><span class="tocitem">Processing</span><ul><li><a class="tocitem" href="../../Processing/data_processing/">Data Processing</a></li></ul></li><li><span class="tocitem">Submodules</span><ul><li><a class="tocitem" href="../../Submodules/submodules/">Submodules</a></li><li><a class="tocitem" href="../../Submodules/nodal/">Nodal</a></li><li><a class="tocitem" href="../../Submodules/quake/">Quake</a></li><li><a class="tocitem" href="../../Submodules/seishdf/">SeisHDF</a></li></ul></li><li><span class="tocitem">Appendices</span><ul><li><a class="tocitem" href="../../Appendices/appendix/">Appendices</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Writing files</a></li><li class="is-active"><a href>Write Support</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Write Support</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/SeismoJulia/SeisBase.jl/blob/main/docs/src/WritingFiles/writing.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Write-Suppport"><a class="docs-heading-anchor" href="#Write-Suppport">Write Suppport</a><a id="Write-Suppport-1"></a><a class="docs-heading-anchor-permalink" href="#Write-Suppport" title="Permalink"></a></h1><p>The table below sumamrizes the current write options for SeisBase. Each function is described in detail in this chapter.</p><table><tr><th style="text-align: right">Structure/Description</th><th style="text-align: right">Output Format</th><th style="text-align: right">Function</th></tr><tr><td style="text-align: right">GphysChannel</td><td style="text-align: right">ASDF</td><td style="text-align: right">write_hdf5</td></tr><tr><td style="text-align: right">GphysChannel</td><td style="text-align: right">SAC timeseries</td><td style="text-align: right">writesac</td></tr><tr><td style="text-align: right">GphysChannel channel metadata</td><td style="text-align: right">StationXML</td><td style="text-align: right">write_sxml</td></tr><tr><td style="text-align: right">GphysChannel instrument response</td><td style="text-align: right">SAC polezero</td><td style="text-align: right">writesacpz</td></tr><tr><td style="text-align: right">GphysData</td><td style="text-align: right">ASDF</td><td style="text-align: right">write_hdf5</td></tr><tr><td style="text-align: right">GphysData</td><td style="text-align: right">SAC timeseries</td><td style="text-align: right">writesac</td></tr><tr><td style="text-align: right">GphysData channel metadata</td><td style="text-align: right">StationXML</td><td style="text-align: right">write_sxml</td></tr><tr><td style="text-align: right">GphysData instrument response</td><td style="text-align: right">SAC polezero</td><td style="text-align: right">writesacpz</td></tr><tr><td style="text-align: right">SeisEvent</td><td style="text-align: right">ASDF</td><td style="text-align: right">write_hdf5</td></tr><tr><td style="text-align: right">SeisEvent header and source info</td><td style="text-align: right">ASDF QuakeML</td><td style="text-align: right">asdf_wqml</td></tr><tr><td style="text-align: right">SeisEvent header and source info</td><td style="text-align: right">QuakeML</td><td style="text-align: right">write_qml</td></tr><tr><td style="text-align: right">SeisEvent trace data only</td><td style="text-align: right">SAC timeseries</td><td style="text-align: right">writesac</td></tr><tr><td style="text-align: right">Array{SeisEvent, 1}</td><td style="text-align: right">ASDF QuakeML</td><td style="text-align: right">asdf_wqml</td></tr><tr><td style="text-align: right">Array{SeisHdr, 1}</td><td style="text-align: right">QuakeML</td><td style="text-align: right">write_qml</td></tr><tr><td style="text-align: right">Array{SeisHdr, 1}, Array{SeisSrc, 1}</td><td style="text-align: right">ASDF QuakeML</td><td style="text-align: right">asdf_wqml</td></tr><tr><td style="text-align: right">Array{SeisHdr, 1}, Array{SeisSrc, 1}</td><td style="text-align: right">QuakeML</td><td style="text-align: right">write_qml</td></tr><tr><td style="text-align: right">SeisHdr</td><td style="text-align: right">QuakeML</td><td style="text-align: right">write_qml</td></tr><tr><td style="text-align: right">SeisHdr, SeisSrc</td><td style="text-align: right">ASDF QuakeML</td><td style="text-align: right">asdf_wqml</td></tr><tr><td style="text-align: right">SeisHdr, SeisSrc</td><td style="text-align: right">QuakeML</td><td style="text-align: right">wqml</td></tr><tr><td style="text-align: right">any SeisBase structure</td><td style="text-align: right">SeisBase file</td><td style="text-align: right">wseis</td></tr><tr><td style="text-align: right">primitive data type or array</td><td style="text-align: right">ASDF AuxiliaryData</td><td style="text-align: right">asdf_waux</td></tr></table><p>Methods for SeisEvent, SeisHdr, or SeisSrc are part of submodule SeisBase.Quake. <em>asdf_waux</em> and <em>asdf_wqml</em> are part of :ref:<code>SeisBase.SeisHDF.&lt;seishdf&gt;</code>.</p><h2 id="Write-Functions"><a class="docs-heading-anchor" href="#Write-Functions">Write Functions</a><a id="Write-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Write-Functions" title="Permalink"></a></h2><p>Functions are organized by file format.</p><h3 id="HDF5/ASDF"><a class="docs-heading-anchor" href="#HDF5/ASDF">HDF5/ASDF</a><a id="HDF5/ASDF-1"></a><a class="docs-heading-anchor-permalink" href="#HDF5/ASDF" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="SeisBase.SeisHDF.write_hdf5" href="#SeisBase.SeisHDF.write_hdf5"><code>SeisBase.SeisHDF.write_hdf5</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">write_hdf5( hdf_out::String, S::GphysData[, KWs] )</code></pre><p>Write data to file <code>hdf_out</code> from structure <code>S</code> in a seismic HDF5 format.</p><pre><code class="nohighlight hljs">write_hdf5( hdf_out::String, W::SeisEvent[, KWs] )</code></pre><p>Write data to file <code>hdf_out</code> from structure <code>W</code> in a seismic HDF5 format. If the format doesn&#39;t record event header and source info, only <code>W.data</code> is stored.</p><p><strong>Keywords</strong></p><p><strong>GphysData</strong></p><table><tr><th style="text-align: left">KW</th><th style="text-align: left">Type</th><th style="text-align: left">Default</th><th style="text-align: left">Meaning</th></tr><tr><td style="text-align: left">add</td><td style="text-align: left">Bool</td><td style="text-align: left">false</td><td style="text-align: left">Add new traces to file as needed?</td></tr><tr><td style="text-align: left">chans</td><td style="text-align: left">ChanSpec</td><td style="text-align: left">1:S.n</td><td style="text-align: left">Channels to write to file</td></tr><tr><td style="text-align: left">len</td><td style="text-align: left">Period</td><td style="text-align: left">Day(1)</td><td style="text-align: left">Length of new traces added to file</td></tr><tr><td style="text-align: left">ovr</td><td style="text-align: left">Bool</td><td style="text-align: left">false</td><td style="text-align: left">Overwrite data in existing traces?</td></tr><tr><td style="text-align: left">tag</td><td style="text-align: left">String</td><td style="text-align: left">&quot;&quot;</td><td style="text-align: left">Tag for trace names in ASDF volumes</td></tr><tr><td style="text-align: left">v</td><td style="text-align: left">Integer</td><td style="text-align: left">0</td><td style="text-align: left">verbosity</td></tr></table><p><strong>SeisEvent</strong></p><table><tr><th style="text-align: left">KW</th><th style="text-align: left">Type</th><th style="text-align: left">Default</th><th style="text-align: left">Meaning</th></tr><tr><td style="text-align: left">chans</td><td style="text-align: left">ChanSpec</td><td style="text-align: left">1:S.data.n</td><td style="text-align: left">Channels to write to file</td></tr><tr><td style="text-align: left">tag</td><td style="text-align: left">String</td><td style="text-align: left">&quot;&quot;</td><td style="text-align: left">Tag for trace names in ASDF volumes</td></tr><tr><td style="text-align: left">v</td><td style="text-align: left">Integer</td><td style="text-align: left">0</td><td style="text-align: left">verbosity</td></tr></table><p><strong>Write Methods</strong></p><p><strong>Add (add = true)</strong></p><p>This KW determines the start and end times of all data in <code>chans</code>, and initializes new traces (filled with NaNs) of length = <code>len</code>.</p><p><strong>ASDF behavior</strong></p><p>Mode <code>add=true</code> follows these steps in this order:</p><ol><li>Determine times of all data in <code>S[chans]</code> and all traces in &quot;Waveforms/&quot;.</li><li>If data lie outside existing trace bounds, new traces are initialized.</li><li>For each segment in <code>S[chans]</code>:</li></ol><ul><li>Merge the header data in <code>S[chans]</code> into the relevant station XML.</li><li>Overwrite part of the relevant trace in <code>Waveforms/</code>.</li></ul><p>Thus, unless <code>len</code> exactly matches the time boundaries of each segment in <code>S</code>, the traces created will be intentionally larger.</p><p><strong>Overwrite (ovr = true)</strong></p><p>If <code>ovr=true</code> is specified, but <code>add=false</code>, <code>write_hdf5</code> <em>only</em> overwrites <em>existing</em> data in <code>hdf_out</code>.</p><ul><li>No new trace data objects are created in <code>hdf_out</code>.</li><li>No new file is created. If <code>hdf_out</code> doesn&#39;t exist, nothing happens.</li><li>If no traces in <code>hdf_out</code> overlap segments in <code>S</code>, <code>hdf_out</code> isn&#39;t modified.</li><li>In ASDF format, station XML is merged in channels that are partly overwritten.</li></ul><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p><code>add=true</code>/<code>ovr=true</code> changes <code>:t</code> on file to begin at an exact sample time.</p></div></div><p>See also: <code>read_hdf5</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SeismoJulia/SeisBase.jl/blob/55dac7243719321363c3adf066935c2ce625d31b/src/Submodules/SeisHDF/write_hdf5.jl#L1-L59">source</a></section></article><h2 id="QuakeML"><a class="docs-heading-anchor" href="#QuakeML">QuakeML</a><a id="QuakeML-1"></a><a class="docs-heading-anchor-permalink" href="#QuakeML" title="Permalink"></a></h2><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>write_qml</code>. Check Documenter&#39;s build log for details.</p></div></div><h2 id="SAC"><a class="docs-heading-anchor" href="#SAC">SAC</a><a id="SAC-1"></a><a class="docs-heading-anchor-permalink" href="#SAC" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SeisBase.writesac" href="#SeisBase.writesac"><code>SeisBase.writesac</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">writesac(S::Union{GphysData,GphysChannel}[, chans, nvhdr=6, fname=&quot;&quot;, v=0])</code></pre><p>Write all data in SeisData structure <code>S</code> to auto-generated SAC files.</p><p>With any GphysChannel subtype, specifying <code>fname = FF</code> sets the filename to FF.</p><p>Keywords:</p><ul><li><code>chans=&quot;CC&quot;</code> writes data from ChanSpec CC (GphysData only)</li><li><code>fname=&quot;FF&quot;</code> uses filename FF (GphysChannel only)</li><li><code>nvhdr</code> is SAC NVHDR, the file header version (6 or 7). Default is 6.</li><li><code>v</code> is verbosity.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SeismoJulia/SeisBase.jl/blob/55dac7243719321363c3adf066935c2ce625d31b/src/Formats/SAC.jl#L448-L460">source</a></section><section><div><pre><code class="nohighlight hljs">writesac(W::SeisEvent[, v=0])</code></pre><p>Write all data in SeisEvent structure <code>W</code> to auto-generated SAC files. Event header information is written from W.hdr; W.source is not used as there is no standard header position for event source information.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SeismoJulia/SeisBase.jl/blob/55dac7243719321363c3adf066935c2ce625d31b/src/Submodules/Quake/Formats/SAC.jl#L3-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeisBase.writesacpz" href="#SeisBase.writesacpz"><code>SeisBase.writesacpz</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">writesacpz(pzfile::String, S::GphysData[, chans::ChanSpec=CC])</code></pre><p>Write fields from SeisBase struct <code>S</code> into sacpz file <code>pzfile</code>. Uses information from fields :fs, :gain, :loc, :misc, :name, :resp, :units. Specify <code>chans=CC</code> to only write channels <code>CC</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SeismoJulia/SeisBase.jl/blob/55dac7243719321363c3adf066935c2ce625d31b/src/Formats/SAC.jl#L576-L581">source</a></section></article><h2 id="SeisBase-Native"><a class="docs-heading-anchor" href="#SeisBase-Native">SeisBase Native</a><a id="SeisBase-Native-1"></a><a class="docs-heading-anchor-permalink" href="#SeisBase-Native" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SeisBase.wseis" href="#SeisBase.wseis"><code>SeisBase.wseis</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">wseis(fname, S)</code></pre><p>Write SeisBase objects S to file. S can be a single object, multiple comma-delineated objects, or an array of objects.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SeismoJulia/SeisBase.jl/blob/55dac7243719321363c3adf066935c2ce625d31b/src/Last/native_file_io.jl#L203-L207">source</a></section></article><h2 id="Station-XML"><a class="docs-heading-anchor" href="#Station-XML">Station XML</a><a id="Station-XML-1"></a><a class="docs-heading-anchor-permalink" href="#Station-XML" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SeisBase.write_sxml" href="#SeisBase.write_sxml"><code>SeisBase.write_sxml</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">write_sxml(fname::String, S::GphysData[, chans=Cha])
write_sxml(fname::String, C::GphysChannel)</code></pre><p>Write station XML from the fields of <code>S</code> or <code>C</code> to file <code>fname</code>.</p><p>Use keyword <code>chans=Cha</code> to restrict station XML write to <code>Cha</code>. This keyword can accept an Integer, UnitRange, or Array{Int64,1} as its argument.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SeismoJulia/SeisBase.jl/blob/55dac7243719321363c3adf066935c2ce625d31b/src/Formats/stationXML.jl#L775-L783">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../Downloading/seedlink/">« SeedLink</a><a class="docs-footer-nextpage" href="../../Processing/data_processing/">Data Processing »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Saturday 19 November 2022 00:29">Saturday 19 November 2022</span>. Using Julia version 1.8.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
